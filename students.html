<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>My Profile - Student Portal</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <style>
        .navbar-purple {
            background: linear-gradient(135deg, #6a5acd, #8e44ad);
        }

        .profile-card {
            border-radius: 20px;
            background: white;
            box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
            padding: 20px;
        }

        .subject-card {
            border-radius: 15px;
            background: #f3ecff;
            border-left: 5px solid #6a5acd;
        }

        .advisor-card {
            border-radius: 15px;
            background: #efe6ff;
            box-shadow: 0 3px 10px rgb(0 0 0 / 0.1);
        }

        .timetable-card {
            border-radius: 15px;
            background: #f9f6ff;
        }

        .text-purple {
            color: #6a5acd;
        }

        .profile-buttons {
            margin-top: 15px;
        }

        .profile-buttons button {
            margin-right: 10px;
        }

        #imgUpload {
            display: none;
        }

        #profileImage:hover {
            cursor: pointer;
            opacity: 0.8;
            transition: 0.3s;
        }

        .edit-input {
            border: 1px solid #6a5acd;
            border-radius: 5px;
            padding: 5px 8px;
            width: 100%;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark navbar-purple">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Student Portal</a>
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="index.html">Dashboard</a></li>
                <li class="nav-item"><a class="nav-link active" href="students.html">My Profile</a></li>
                <li class="nav-item"><a class="nav-link" href="courses.html">Courses</a></li>
                <li class="nav-item"><a class="nav-link" href="login.html">Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="container mt-4">

        <div class="profile-card mb-4">
            <div class="row align-items-center">
                <div class="col-md-3 text-center">
                    <img id="profileImage" src="https://cdn-icons-png.flaticon.com/512/3135/3135768.png"
                        width="120" class="rounded-circle mb-3" title="Click to change picture" />
                    <input type="file" id="imgUpload" accept="image/*" />
                </div>

                <div class="col-md-9">
                    <h3 class="text-purple"><i class="bi bi-person-badge"></i> My Profile</h3>

                    <p><strong>Name:</strong> <span id="nameDisplay">Amelia Henderson</span></p>
                    <p><strong>Student ID:</strong> <span id="idDisplay">1234567890</span></p>
                    <p><strong>Program:</strong> <span id="programDisplay">Information Systems</span></p>
                    <p><strong>Faculty:</strong> <span id="facultyDisplay">College of Computing, Informatics & Mathematics</span></p>
                    <p><strong>Email:</strong> <span id="emailDisplay">1234567890@student.uitm.edu.my</span></p>

                    <div id="editFields" style="display:none;">
                        <div class="mb-2">
                            <label for="nameInput" class="form-label"><strong>Name:</strong></label>
                            <input type="text" id="nameInput" class="edit-input" />
                        </div>
                        <div class="mb-2">
                            <label for="programInput" class="form-label"><strong>Program:</strong></label>
                            <input type="text" id="programInput" class="edit-input" />
                        </div>
                        <div class="mb-2">
                            <label for="facultyInput" class="form-label"><strong>Faculty:</strong></label>
                            <input type="text" id="facultyInput" class="edit-input" />
                        </div>
                        <div class="mb-2">
                            <label for="emailInput" class="form-label"><strong>Email:</strong></label>
                            <input type="email" id="emailInput" class="edit-input" />
                        </div>
                    </div>

                    <div class="profile-buttons">
                        <button id="editBtn" class="btn btn-primary btn-sm"><i class="bi bi-pencil-square"></i> Edit</button>
                        <button id="saveBtn" class="btn btn-success btn-sm" style="display:none;"><i class="bi bi-check-lg"></i> Save</button>
                        <button id="cancelBtn" class="btn btn-secondary btn-sm" style="display:none;"><i class="bi bi-x-lg"></i> Cancel</button>
                        <button id="deleteBtn" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i> Delete</button>
                    </div>

                </div>
            </div>
        </div>

        <h4 class="text-purple mb-3"><i class="bi bi-journal-text"></i> Subjects Registered</h4>

        <div class="row g-3">
            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>User Experience Design</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 3</p>
                    <p class="text-muted">Lecturer: Ms. Farah Fauzana</p>
                </div>
            </div>

            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>Information Ethics & Law</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 3</p>
                    <p class="text-muted">Lecturer: Dr. Zayn Malik</p>
                </div>
            </div>

            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>Introductory Japanese</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 2</p>
                    <p class="text-muted">Lecturer: Mr. Kenji</p>
                </div>
            </div>

            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>Advanced Web Design Development & CMS</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 4</p>
                    <p class="text-muted">Lecturer: Sir Zizan Razak </p>
                </div>
            </div>

            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>Advanced Database Management System</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 4</p>
                    <p class="text-muted">Lecturer: Dr. Nora Danish</p>
                </div>
            </div>

            <div class="col-md-6">
                <div class="subject-card p-3">
                    <h6><strong>Information System Project Management</strong></h6>
                    <p class="text-muted mb-1">Credit Hours: 3</p>
                    <p class="text-muted">Lecturer: Mr. Faizal Tahir</p>
                </div>
            </div>
        </div>

        <h4 class="text-purple mt-5 mb-3"><i class="bi bi-calendar-week"></i> Weekly Timetable</h4>

        <div class="timetable-card p-3 mb-4">
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>Day</th>
                        <th>Subject</th>
                        <th>Time</th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>Monday</td>
                        <td>User Experience Design</td>
                        <td>8:00 AM - 10:00 AM</td>
                    </tr>
                    <tr>
                        <td>Tuesday</td>
                        <td>Advanced Database</td>
                        <td>2:00 PM - 5:00 PM</td>
                    </tr>
                    <tr>
                        <td>Wednesday</td>
                        <td>Introductory Japanese</td>
                        <td>10:00 AM - 12:00 PM</td>
                    </tr>
                    <tr>
                        <td>Thursday</td>
                        <td>Advanced Web Design</td>
                        <td>9:00 AM - 11:00 AM</td>
                    </tr>
                    <tr>
                        <td>Friday</td>
                        <td>IS Project Management</td>
                        <td>8:00 AM - 10:00 AM</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h4 class="text-purple mb-3"><i class="bi bi-person-video3"></i> Academic Advisor</h4>

        <div class="advisor-card p-3 mb-5">
            <p><strong>Name:</strong> Dr. Aliff Syukri</p>
            <p><strong>Office:</strong> Level 3, Block E</p>
            <p><strong>Email:</strong> aliffsyukri@uitm.edu.my</p>
            <p><strong>Consultation Hours:</strong> Monday & Thursday (2PM – 4PM)</p>
        </div>

    </div>

    <footer class="text-center p-3 navbar-purple text-white">
        © 2025 Student Portal. All rights reserved.
    </footer>

    <script>
        const editBtn = document.getElementById('editBtn');
        const saveBtn = document.getElementById('saveBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const deleteBtn = document.getElementById('deleteBtn');

        const editFields = document.getElementById('editFields');

        const nameDisplay = document.getElementById('nameDisplay');
        const idDisplay = document.getElementById('idDisplay');
        const programDisplay = document.getElementById('programDisplay');
        const facultyDisplay = document.getElementById('facultyDisplay');
        const emailDisplay = document.getElementById('emailDisplay');

        const nameInput = document.getElementById('nameInput');
        const programInput = document.getElementById('programInput');
        const facultyInput = document.getElementById('facultyInput');
        const emailInput = document.getElementById('emailInput');

        const profileImage = document.getElementById('profileImage');
        const imgUpload = document.getElementById('imgUpload');

        const originalData = {
            name: nameDisplay.textContent,
            id: idDisplay.textContent,
            program: programDisplay.textContent,
            faculty: facultyDisplay.textContent,
            email: emailDisplay.textContent,
            imageSrc: profileImage.src
        };

        function toggleEditMode(isEdit) {
            if (isEdit) {
                editBtn.style.display = 'none';
                saveBtn.style.display = 'inline-block';
                cancelBtn.style.display = 'inline-block';
                deleteBtn.style.display = 'none';

                editFields.style.display = 'block';

                nameDisplay.style.display = 'none';
                programDisplay.style.display = 'none';
                facultyDisplay.style.display = 'none';
                emailDisplay.style.display = 'none';

                nameInput.value = nameDisplay.textContent;
                programInput.value = programDisplay.textContent;
                facultyInput.value = facultyDisplay.textContent;
                emailInput.value = emailDisplay.textContent;

                profileImage.style.cursor = 'pointer';
            } else {
                editBtn.style.display = 'inline-block';
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
                deleteBtn.style.display = 'inline-block';

                editFields.style.display = 'none';

                nameDisplay.style.display = 'inline';
                programDisplay.style.display = 'inline';
                facultyDisplay.style.display = 'inline';
                emailDisplay.style.display = 'inline';

                profileImage.style.cursor = 'default';

                imgUpload.value = '';
            }
        }

        editBtn.addEventListener('click', () => {
            toggleEditMode(true);
        });

        cancelBtn.addEventListener('click', () => {
            nameInput.value = originalData.name;
            programInput.value = originalData.program;
            facultyInput.value = originalData.faculty;
            emailInput.value = originalData.email;
            profileImage.src = originalData.imageSrc;

            toggleEditMode(false);
        });

        saveBtn.addEventListener('click', () => {
            nameDisplay.textContent = nameInput.value.trim() || originalData.name;
            programDisplay.textContent = programInput.value.trim() || originalData.program;
            facultyDisplay.textContent = facultyInput.value.trim() || originalData.faculty;
            emailDisplay.textContent = emailInput.value.trim() || originalData.email;

            originalData.name = nameDisplay.textContent;
            originalData.program = programDisplay.textContent;
            originalData.faculty = facultyDisplay.textContent;
            originalData.email = emailDisplay.textContent;
            originalData.imageSrc = profileImage.src;

            toggleEditMode(false);
            alert('Profile updated successfully!');
        });

        deleteBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset your profile?')) {
                nameDisplay.textContent = 'Amelia Henderson';
                programDisplay.textContent = 'Information Systems';
                facultyDisplay.textContent = 'College of Computing, Informatics & Mathematics';
                emailDisplay.textContent = '1234567890@student.uitm.edu.my';
                profileImage.src = 'https://cdn-icons-png.flaticon.com/512/3135/3135768.png';

                originalData.name = nameDisplay.textContent;
                originalData.program = programDisplay.textContent;
                originalData.faculty = facultyDisplay.textContent;
                originalData.email = emailDisplay.textContent;
                originalData.imageSrc = profileImage.src;

                toggleEditMode(false);
                alert('Profile reset to default.');
            }
        });

        profileImage.addEventListener('click', () => {
            if (saveBtn.style.display === 'inline-block') {
                imgUpload.click();
            }
        });

        imgUpload.addEventListener('change', () => {
            const file = imgUpload.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    profileImage.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
    </script>

</body>

</html>